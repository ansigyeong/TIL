# stack 기본

- 선형구조 (-> 자료간의 관계가 1대1의 관계를 가짐)

  *참고: 비선형구조 -> 자료간의 관계가 1대N의 관계를 가짐 e.g.) 트리

- 후입선출(LIFO, Last-In-First-Out)



### 자료구조

***자료를 선형으로 저장할 저장소가 필요함 => List***

- 저장소 자체를 stack이라 부르기도 함
- 스택에서 마지막에 삽입된 원소의 위치: top



### 연산

1. 삽입: push
2. 삭제: pop
3. isEmpty: 스택이 공백인지 아닌지 확인하는 연산
4. peek: top에 있는 item을 반환하는 연산



### 슈도코드

```python
def push(item):
  s.append(item)

def pop():
  if len(s) == 0:
    print("Stack is Empty!")
    return
  else:
    return s.pop(-1)
  
s = []

push(1)
push(2)
push(3)

print("pop item =>", pop())
print("pop item =>", pop())
print("pop item =>", pop())
```



### 스택 구현 고려사항

- 장점: 구현이 용이하다는 장점

- 단점: 리스트의 크기를 변경하는 작업은 내부적으로 큰 overhead 발생 작업으로 많은 시간이 소요

해결방법

1. 리스트의 크기가 변동되지 않도록 배열처럼 크기를 미리 정해놓고 사용하는 방법
2. 동적 연결리스트를 이용하여 저장소를 동적으로 할당하여 스택을 구현하는 방법





# Stack 응용

### 괄호검사

- 괄호의 종류: 대괄호[], 중괄호{}, 소괄호()

- 조건

    1. 왼쪽 괄호의 개수와 오른쪽 괄호의 개수가 같아야 함
    2. 같은 괄호에서 왼쪽 괄호는 오른쪽 괄호보다 먼저 나와야 함
    3. 괄호 사이에는 포함 관계만 존재함

    ![스크린샷 2020-03-03 오후 5.32.13](/Users/sigyeongan/Library/Application Support/typora-user-images/스크린샷 2020-03-03 오후 5.32.13.png)



### Function call

<함수 호출 관리>

> 프로그램에서의 **함수 호출**과 복귀에 따른 **수행 순서를 관리**
>
> 1. 가장 마지막에 호출된 함수가 가장 먼저 실행을 완료하고 복귀하는 **후입 선출** 구조이므로, 후입선출 구조의 스택을 이용하여 수행 순서를 관리함
> 2. 함수 호출이 발생하면 호출한 함수 수행에 필요한 **지역변수, 매개변수 및 수행 후 복귀할 주소 등의 정보를 스택 프레임에 저장**하여 시스템 스택에 삽입함
> 3. 함수의 실행이 끝나면 **시스템 스택의 top 원소(스택 프레임)를 삭제(pop)**하면서 프레임에 저장되어있던 **복귀주소를 확인하고 복귀**함
> 4. 함수 호출과 복귀에 따라 이 과정을 반복하여 전체 프로그램 수행이 종료되면 시스템 스택은 공백 스택이 됨

![스크린샷 2020-03-03 오후 5.40.35](/Users/sigyeongan/Library/Application Support/typora-user-images/스크린샷 2020-03-03 오후 5.40.35.png)



<재귀 호출>

> - 자기 자신을 호출하여 순환 수행되는 것
>
> - 함수에서 실행해야 하는 작업의 특성에 따라 일반적인 호출방식보다 재귀 호출 방식을 사용하여 함수를 만들면 **프로그램의 크기를 줄이고 간단하게 작성**할 수 있음
> - 디버깅이 어렵고 잘못 작성하게 되면 수행 시간이 많이 소요됨

> e.g.) 재귀 호출을 작성할 수 있는 함수 - factorial
>
> - n에 대한 factorial: 1부터 n까지의 모든 자연수를 곱하여 구하는 연산
>
>     n! = n * (n-1)!
>
> - 마지막에 구한 하위값을 이용하여 상위 값을 구하는 작업을 반복함
>
> ![스크린샷 2020-03-03 오후 5.49.25](/Users/sigyeongan/Library/Application Support/typora-user-images/스크린샷 2020-03-03 오후 5.49.25.png)
>
> ***스택 프레임으로 스택에 저장되는 값이 입력 값이 다른 같은 함수의 스택 프레임을 저장한다는 차이점이 있음***





